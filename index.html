<!DOCTYPE html>

<html lang="zxx">

<head>
  <title>SW</title>
  <link id="size-stylesheet" rel="stylesheet" type="text/css" href="css/style.css" />
</head>



<body>
  <section>
    <div>

        <div>
          <div>
            <canvas id="myCanvas"></canvas>

              <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

              <script type="module">

                import * as THREE from 'https://threejs.org/build/three.module.js';

                import { OrbitControls } from 'https://threejs.org/examples/jsm/controls/OrbitControls.js';
                import { GLTFLoader } from 'https://threejs.org/examples/jsm/loaders/GLTFLoader.js';
                import { RGBELoader } from 'https://threejs.org/examples/jsm/loaders/RGBELoader.js';
          			import { RoughnessMipmapper } from 'https://threejs.org/examples/jsm/utils/RoughnessMipmapper.js';
                import { OBJLoader } from 'https://threejs.org/examples/jsm/loaders/OBJLoader.js';
                import { ImprovedNoise } from 'https://threejs.org/examples/jsm/math/ImprovedNoise.js';

                var three = THREE;

                var scene = new three.Scene();

                var aspect = window.innerWidth / window.innerHeight;
                var d = 10;
                var camera = new THREE.OrthographicCamera( - d * aspect, d * aspect, d, - d, 1, 3000 );
///
                var container = document.getElementById( 'myCanvas' );
				            container.innerHTML = "";

                var raycaster = new THREE.Raycaster();
                var mouse = new THREE.Vector2();
///
                var renderer = new three.WebGLRenderer({canvas: document.getElementById('myCanvas'), antialias: true, alpha: true });
                renderer.outputEncoding = THREE.sRGBEncoding;
                renderer.setClearColor(0x00ff00, 0);
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setSize(window.innerWidth, window.innerHeight);

                document.body.appendChild(renderer.domElement);

                document.body.addEventListener( 'mousemove', onMouseMove, false );

                var mouseX = 1, mouseY = 1;

          			var windowHalfX = window.innerWidth / 2;
          			var windowHalfY = window.innerHeight / 2;

          			animate();

                var light = new THREE.AmbientLight(0xffffff, 0.5);
                scene.add(light);

                var light2 = new THREE.HemisphereLight( 0xffffff, 0x080820, 0.5 );
                scene.add( light2 );


                // method 1 - use lookAt
                //camera.position.set( 20, 20, 20 );
                //camera.lookAt( scene.position );

                // method 2 - set the x-component of rotation
                camera.position.set( 6, 6, 6 );
                camera.rotation.order = 'XYZ';
                camera.rotation.y = - Math.PI / 4;
                camera.rotation.x = Math.atan( - 1 / Math.sqrt( 2 ) );


                var controls = new OrbitControls( camera, renderer.domElement );
                controls.enableRotate = true;
                controls.enableZoom = false; // optional
              	controls.enablePan = false;
                controls.maxPolarAngle = Math.PI / 2;
                controls.minPolarAngle = Math.PI / 2.9;
                controls.minAzimuthAngle = Math.PI / 2;

                //controls.update() must be called after any manual changes to the camera's transform
                //camera.position.set( 0, 0, 100 );
                controls.update();



/*----------------------LOADERS -------------------------------------888-----------------------------------*/

                  var loader = new GLTFLoader();

                  loader.load( 'assets/block1.glb', function ( gltf ) {
                  gltf.scene.position.y = -2;
                  gltf.scene.rotation.x = 0;

                  gltf.scene.scale.set(3,3,3) // scale here
                  loader.userData = { URL: "http://isaulgarcia.com"};

                  scene.add( gltf.scene );

                  } );

                  /*----------*/

                  var loader2 = new GLTFLoader();

                  loader2.load( 'assets/block2.glb', function ( gltf ) {
                  gltf.scene.position.y = -2;
                  gltf.scene.rotation.x = 0;

                  gltf.scene.scale.set(3,3,3) // scale here

                  scene.add( gltf.scene );
                  } );

                  /*----------*/

                  var loader3 = new GLTFLoader();

                  loader3.load( 'assets/block3.glb', function ( gltf ) {
                  gltf.scene.position.y = -2;
                  gltf.scene.rotation.x = 0;

                  gltf.scene.scale.set(3,3,3) // scale here

                  scene.add( gltf.scene );
                  } );

                  /*----------*/

                  var loader4 = new GLTFLoader();

                  loader4.load( 'assets/block4.glb', function ( gltf ) {
                  gltf.scene.position.y = -2;
                  gltf.scene.rotation.x = 0;

                  gltf.scene.scale.set(3,3,3) // scale here

                  scene.add( gltf.scene );
                  } );

                  /*----------*/

                  var loader5 = new GLTFLoader();

                  loader5.load( 'assets/block5.glb', function ( gltf ) {
                  gltf.scene.position.y = -2;
                  gltf.scene.rotation.x = 0;

                  gltf.scene.scale.set(3,3,3) // scale here

                  scene.add( gltf.scene );
                  } );

                  /*----------*/

                  var loader6 = new GLTFLoader();

                  loader6.load( 'assets/block6.glb', function ( gltf ) {
                  gltf.scene.position.y = -2;
                  gltf.scene.rotation.x = 0;

                  gltf.scene.scale.set(3,3,3) // scale here

                  scene.add( gltf.scene );
                  } );

                  /*----------*/

                  var loader7 = new GLTFLoader();

                  loader7.load( 'assets/block7.glb', function ( gltf ) {
                  gltf.scene.position.y = -2;
                  gltf.scene.rotation.x = 0;

                  gltf.scene.scale.set(3,3,3) // scale here

                  scene.add( gltf.scene );
                  } );

                  /*----------*/

                  var loader8 = new GLTFLoader();

                  loader8.load( 'assets/block8.glb', function ( gltf ) {
                  gltf.scene.position.y = -2;
                  gltf.scene.rotation.x = 0;

                  gltf.scene.scale.set(3,3,3) // scale here

                  scene.add( gltf.scene );
                  } );

                  /*----------*/

                  var loader9 = new GLTFLoader();

                  loader9.load( 'assets/block9.glb', function ( gltf ) {
                  gltf.scene.position.y = -2;
                  gltf.scene.rotation.x = 0;

                  gltf.scene.scale.set(3,3,3) // scale here

                  scene.add( gltf.scene );
                  } );

/*----------------------LOADERS ------------------------------------------------------------------------------------*/

function onMouseMove( event ) {

				mouse.x = ( event.clientX / renderer.domElement.clientWidth ) * 2 - 1;
				mouse.y = - ( event.clientY / renderer.domElement.clientHeight ) * 2 + 1;
				raycaster.setFromCamera( mouse, camera );

				// See if the ray from the camera into the world hits one of our meshes
				var intersects = raycaster.intersectObject( scene.children, true );

				// Toggle rotation bool for meshes that we clicked
				if ( intersects.length > 0 ) {

					helper.position.set( 0, 0, 0 );
					helper.lookAt( intersects[ 0 ].face.normal );

					helper.position.copy( intersects[ 0 ].point );

				}

			}

                  function onMouseClick( event ) {

                    if (intersects.length > 0) {
                  window.open(intersects[0].object.userData.URL);
                  }}


                function onWindowResize() {
          				windowHalfX = window.innerWidth / 2;
          				windowHalfY = window.innerHeight / 2;
          				camera.aspect = window.innerWidth / window.innerHeight;
          				camera.updateProjectionMatrix();

          				renderer.setSize( window.innerWidth, window.innerHeight );
          			}

                function animate() {
          				requestAnimationFrame( animate );
          				render();
          			}

                function render() {

                  var speed = Date.now() * 0.00005;
                  camera.position.x = Math.cos(speed) * 10;
                  camera.position.z = Math.sin(speed) * 10;

            				camera.lookAt( scene.position );
            				renderer.render( scene, camera );
                }

                window.addEventListener( 'mousemove', onMouseMove, false );
                window.requestAnimationFrame(render);

              </script>
            </div>
        </div>
      </div>

    </section>


</body>


</html>
